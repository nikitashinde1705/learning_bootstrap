(()=>{let e=window.console||{log(){},debug(){}},t=window.JSON||{stringify(){},parse(){}},l=new class{constructor(){this.console=e,this.JSON=t}indexOf(e,t,i){if(null==e)throw TypeError("Array.indexOf called on null or undefined");return e.indexOf?e.indexOf(t,i):this._indexOfPolyfill(e,t,i)}assign(...e){if(Object.assign&&"function"==typeof Object.assign)return Object.assign.apply(null,e);if(null===e[0]||void 0===e[0])throw TypeError("Cannot convert undefined or null to object");return this._assignPolyfill(e)}startsWith(e,t,i){var i=0<i?0|i:0;return e.substring(i,i+t.length)===t}includes(e,t){if(e instanceof RegExp)throw TypeError("First argument must not be a RegExp");return-1!==this.indexOf(e,t=void 0===t?0:t)}keys(e){if(Object.keys)return Object.keys(e);if("function"==typeof e||"object"==typeof e&&null!==e)return this._keysPolyfill(e);throw TypeError("Object.keys called on non-object")}_indexOfPolyfill(e,t,i){let n=e.length>>>0,a=Math.min(0|i,n);if(a<0)a=Math.max(0,n+a);else if(a>=n)return-1;if(void 0===t){for(;a!==n;++a)if(void 0===e[a]&&a in e)return a}else if(t!=t){for(;a!==n;++a)if(e[a]!=e[a])return a}else for(;a!==n;++a)if(e[a]===t)return a;return-1}_assignPolyfill(t){var i=Object(t[0]);for(let e=1;e<t.length;e++){var n=t[e];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i}_keysPolyfill(e){let t,i;var{hasOwnProperty:n}=Object.prototype,a=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=o.length,r=[];for(t in e)n.call(e,t)&&r.push(t);if(a)for(i=0;i<s;i++)n.call(e,o[i])&&r.push(o[i]);return r}};class c{static{this.PROTOCOL="https://"}static{this.URL_COMPANY_TARGET_DOMAIN="company-target.com"}static{this.QS_USE_TEST_DOMAIN="db_useTestDomain"}static{this.QS_QUERY_DOMAIN="db_domain"}static{this.QS_ENABLE_LOG="db_logging"}static{this.QS_PREVIEW_TOKEN="db_preview_token"}static{this.DFLT_NON_COMPANY="(Non-Company Visitor)"}static{this.DFLT_AW_EMPTY="(AccountWatch Empty)"}static{this.DFLT_NON_AW="(Non-AccountWatch Visitor)"}static{this.DFLT_EVENT_TYPE="click"}static{this.URL_IP_API=`api.${this.URL_COMPANY_TARGET_DOMAIN}/api/v3/ip.json`}static{this.URL_DOMAIN_API="api.company-target.com/api/v3/domain.json"}static get URL_BW_AD_PIXEL(){return window.Demandbase.Config.tokens?.URL_BW_AD_PIXEL||"match.prod.bidr.io/cookie-sync/demandbase"}static get URL_LR_AD_PIXEL(){return window.Demandbase.Config.tokens?.URL_LR_AD_PIXEL||"id.rlcdn.com/464526.gif"}static get URL_SMART_PIXEL(){return window.Demandbase.Config.ads?.smarPixelURL||`https://s.${this.URL_COMPANY_TARGET_DOMAIN}/s/sync`}static{this.MODIFICATION_ERROR="SCModificationError"}static{this.PARDOT_VISITOR_COOKIE_REGEX=/^visitor_id[\d]+$/}static{this.NON_HUMAN_DEVICES=[/adsbot-google/i,/googlebot/i]}static{let e;this.URL_CURRENT=(e=document.URL,window.Demandbase?.Config?.isInIFrame&&(e=document.referrer),e=encodeURIComponent(e))}static{this.URL_EVENT_API="et."+this.URL_COMPANY_TARGET_DOMAIN}static{this.EVENT_TYPES={EXPERIENCE_FIRED:"experience_fired",EXPERIENCE_CLICKED:"experience_clicked"}}}let s=new class{buildApiParamString(e){let t={referrer:document.referrer,page:document.URL,page_title:document.title};if(window.Demandbase.Config.isInIFrame)try{t.page=window.top.document.URL,t.referrer=window.top.document.referrer,t.page_title=window.top.document.title}catch(e){t.page=document.referrer,t.referrer=null,t.page_title="3rd Party iFrame"}return t=l.assign(t,e),this.buildQueryString(t)}buildApiUrl(e,t){return(e||c.URL_IP_API)+this.buildApiParamString(t||{})}buildQueryString(e,t=!0){let i="?";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(i+=`${n}=${t?encodeURIComponent(e[n]):e[n]}&`);return i.substring(0,i.length-1)}};class i{constructor(e){this.DEFAULT_CONFIGURATION={},this.configuration={},this._setup=()=>(this.mergeConfigs(this.DEFAULT_CONFIGURATION,e||window.Demandbase?.Config?.[this.constructor.name]),this),this._setup()}isEnabled(){return this.configuration.enabled||!1}mergeConfigs(...t){for(let e=0;e<t.length;e++)this.configuration=l.assign(this.configuration,t[e])}initialize(){this._setup()}}class n{getCookiesByRegex(i,e){let n={};return e.cookie.split(";").forEach(e=>{var e=e.split("="),t=e[0].trim();i.test(t)&&1<e.length&&(n[t]=e[1].trim())}),n}getElementByIdOrName(e){return document.getElementById(e)||document.getElementsByName(e)[0]||null}addEventListener(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent&&e.attachEvent(t,i)}dig(e,...t){let i=e;for(var n of t){if(void 0===i)return;i="function"==typeof n?n(i):i[n]}return i}set(e,n,t){return Object(e)===e&&((n=Array.isArray(n)?n:n.toString().match(/[^.[\]]+/g)||[]).slice(0,-1).reduce((e,t,i)=>Object(e[t])===e[t]?e[t]:e[t]=Math.abs(n[i+1])>>0==+n[i+1]?[]:{},e)[n[n.length-1]]=t),e}flatten(e){if(e&&"object"==typeof e)for(var t in e){var i=e[t];if("object"==typeof i&&null!==i&&e.hasOwnProperty(t)){for(var n in i)e[t+"_"+n]=i[n];delete e[t]}}return e}getAttributeValue(e,t){if(!1===e[t])return"false";let i=window.Demandbase.Config.nonCompanyDefault||c.DFLT_NON_COMPANY,n=window.Demandbase.Config.emptyWatchDefault||c.DFLT_AW_EMPTY,a={city:"registry_city",state:"registry_state",zip:"registry_zip_code",country:"registry_country_code",country_name:"registry_country",latitude:"registry_latitude",longitude:"registry_longitude"}[t]||"",o=e[t]||e[a]||this.dig(e,"custom_fields",t)||i,s=(e.company_name||i)!==i,r=l.keys(e),d=!1;for(let e=0;e<r.length;e++)if(0===l.indexOf(r[e],"watch_list_")){d=!0;break}return-1!==l.indexOf(t,"watch_list_")&&s&&(d||(n=window.Demandbase.Config.nonWatchDefault||c.DFLT_NON_AW),o=e[t]||n),o}getQueryParam(e,t){var t,i={},t=(t=t||window||{location:{search:"",hash:""}}).location.search.substring(1)||t.location.hash&&t.location.hash.split("?")[1];if(!t)return"";var n=t.split("&");for(let e=0;e<n.length;e++){var a=n[e].split("="),o=a[0],a=a[1];i[o]=a}return i[e]||""}insertScript(e,t,i="https://"){if(e&&(window.Demandbase._loadedScripts=window.Demandbase._loadedScripts||{},!window.Demandbase._loadedScripts[e])){window.Demandbase._loadedScripts[e]=!0;var n=document.createElement("script"),a=document.getElementsByTagName("script")[0];n.async=!0,n.id=t||"",n.src=""+i+e.replace(/(^\/\/)|(^http:\/\/)|(^https:\/\/)/,""),a&&a.parentNode&&a.parentNode.insertBefore(n,a)}}isOldBrowserOrUserAgentUnavailable(){try{return 0<l.indexOf(window.navigator.userAgent,"MSIE ")}catch(e){return!0}}b64EncodeUnicode(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt("0x"+t,16))}))}generateDeprecationMessage(e,t){return e+" has been deprecated since version "+t}getFirstNonEmptyObject(...e){for(var t of e)if(t&&0<Object.keys(t).length)return t;return null}}let d=new n,m=new class{constructor(){this.logging=!1,this.debug=!1,this.logging=window.Demandbase&&window.Demandbase.Config&&window.Demandbase.Config.logging}alert(e){this.log(e)}log(e){!this.logging&&"true"!==d.getQueryParam(c.QS_ENABLE_LOG)||l.console.log("DB: "+e)}};class a{static{this.FIREFOX_SAFARI_STACK_REGEXP=/(^|@)\S+\:\d+/}static{this.CHROME_IE_STACK_REGEXP=/^\s*at .*(\S+\:\d+|\(native\))/m}static{this.SAFARI_NATIVE_CODE_REGEXP=/^(eval@)?(\[native code\])?$/}parse(e){return void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(a.CHROME_IE_STACK_REGEXP)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):void 0}extractLocation(e){var e;return-1===l.indexOf(e,":")?[e]:[(e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,"")))[1],e[2]||void 0,e[3]||void 0]}_parseInt(e,t=10){if(e)return parseInt(e,t)}parseV8OrIE(e){return e.stack.split("\n").filter(function(e){return!!e.match(a.CHROME_IE_STACK_REGEXP)},this).map(function(e){var e=(e=-1<l.indexOf(e,"(eval ")?e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""):e).replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),t=this.extractLocation(e.pop());return{function:e.join(" ")||void 0,file:-1<l.indexOf(["eval","<anonymous>"],t[0])?void 0:t[0],line:this._parseInt(t[1]),column:this._parseInt(t[2])}},this)}parseFFOrSafari(e){return e.stack.split("\n").filter(function(e){return!e.match(a.SAFARI_NATIVE_CODE_REGEXP)},this).map(function(e){var e,t;return(-1<l.indexOf(e," > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===l.indexOf(e,"@")&&-1===l.indexOf(e,":"))?{function:e}:(e=e.split("@"),t=this.extractLocation(e.pop()),{function:e.join("@")||void 0,file:t[0],line:this._parseInt(t[1]),column:this._parseInt(t[2])})},this)}parseOpera(e){return!e.stacktrace||-1<l.indexOf(e.message,"\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)}parseOpera9(e){var i=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),a=[];for(let e=2,t=n.length;e<t;e+=2){var o=i.exec(n[e]);o&&a.push({file:o[2],line:this._parseInt(o[1])})}return a}parseOpera10(e){var i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),a=[];for(let e=0,t=n.length;e<t;e+=2){var o=i.exec(n[e]);o&&a.push({function:o[3]||void 0,file:o[2],line:this._parseInt(o[1])})}return a}parseOpera11(e){return e.stack.split("\n").filter(function(e){return!!e.match(a.FIREFOX_SAFARI_STACK_REGEXP)&&!e.match(/^Error created at/)},this).map(function(e){let t;var e=e.split("@"),i=this.extractLocation(e.pop()),e=e.shift()||"",n=e.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;return void 0!==(t=e.match(/\(([^\)]*)\)/)?e.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"):t)&&"[arguments not available]"!==t&&t.split(","),{function:n,file:i[0],line:this._parseInt(i[1]),column:this._parseInt(i[2])}},this)}}let o=new a;class r extends i{constructor(e){super(e),this.VERSION="0.0.0",this.PROJECT_ID="141580",this.PROJECT_KEY="9a0a3519e930259f5886a7af53b0ccaa",this.SENTRY_PROJECT_ID="1190150",this.SENTRY_PUBLIC_KEY="3c9d467f8a9d4295b0f8320ae852091d",this.DEFAULT_CONFIGURATION={environment:"production",ignorableErrors:[]},this.configuration={},this.additionalErrorDetails={},this._setup=()=>(super.mergeConfigs(this.DEFAULT_CONFIGURATION,e||window.Demandbase?.Config?.ErrorReporter),this),this._setup()}initialize(){super.initialize()}getNewRequest(){let e;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}send(e,t={}){if(!(-1<l.indexOf(this.configuration.ignorableErrors,e.name)||-1<l.indexOf(this.configuration.ignorableErrors,e.message))){var i=this.getNewRequest(),n=`https://sentry.io/api/${this.SENTRY_PROJECT_ID}/store/?sentry_version=7&sentry_key=`+this.SENTRY_PUBLIC_KEY;try{i.open("POST",n,!0),i.setRequestHeader("Content-type","text/plain;charset=UTF-8"),i.send(this.formatMessage(e,!0,t))}catch(e){}}}wrap(t){if("function"!=typeof t)throw Error("Invalid Function: "+t);return(...e)=>{try{if(void 0!==t&&"function"==typeof t.apply)return t.apply(this,e)}catch(e){this.send(e),m.alert(`Error: ${e}
`+e.stack)}}}formatMessage(e,t=!1,i){var e=this.parseError(e),n=this.parseContext(),a=this.parseEnviroment(),o=this.parseSession(),s=this.parseParams(),{additionalErrorDetails:r}=this,t;return t?(t=this.formatErrorForSentry(e),l.JSON.stringify({logger:n.notifier.name,platform:"javascript",release:n.version,environment:n.environment,request:{url:n.url},contexts:{browser:{userAgent:n.userAgent}},tags:{clientId:a.config.clientId},extra:l.assign({},{readyState:n.readyState,config:a.config,companyProfile:o,additionalErrorDetails:r},i),exception:{values:[t]}})):l.JSON.stringify({errors:[e],context:n,environment:a,session:o,params:s})}formatErrorForSentry(e){var t=[],i;for(i of e.backtrace)t.push({function:i.function,filename:i.file,lineno:i.line,colno:i.column});return{type:e.type,value:e.message,stacktrace:{frames:t}}}parseError(e){return{type:e.name,message:e.message,backtrace:o.parse(e)}}parseContext(){return{notifier:{name:"ErrorReporterModule",version:this.VERSION},environment:this.configuration.environment,version:window.Demandbase.version,url:window.location.href,userAgent:navigator.userAgent,rootDirectory:window.location.origin,readyState:document.readyState}}parseEnviroment(){return{config:d.dig(window.Demandbase,"Config")}}parseSession(){return{companyProfile:d.dig(window.Demandbase,"IP","CompanyProfile")}}parseParams(){return{}}}let g=new r,u=new class{callback(i){if(i||"object"==typeof i)for(let t=0;t<this.callbackStack.length;t++){let e=this.callbackStack[t];g.wrap(()=>{e&&"function"==typeof e&&e.call(window.Demandbase,i)})()}else m.log("Data is falsy, not invoking callbacks: "+i)}domScriptCallback(e){e&&"object"==typeof e?(window.Demandbase.IpApi.CompanyProfile=d.flatten(e),this.callback(e)):m.log("domScriptCallback(): Data is falsy, not invoking callbacks: "+e)}registerCallback(e){return e&&"function"==typeof e&&-1===l.indexOf(this.callbackStack,e)?(this.callbackStack.push(e),window.Demandbase.IpApi&&window.Demandbase.IpApi.CompanyProfile&&g.wrap(()=>{e.call(window.Demandbase,window.Demandbase.IpApi.CompanyProfile)})(),!0):(m.log("registerCallback(): callback is not a valid function or is already a part of the callbacks: "+e),!1)}constructor(){this.callbackStack=[]}};var p=new class{add(e){let t=!0;if(!this.isValid(e))return m.log("Event not added."),!1;var i=e.type||c.DFLT_EVENT_TYPE,{elements:n}=e,a=n.constructor,o;if(a!==HTMLCollection&&a!==NodeList)return this._attachListener(e.elements,i,e.listener);for(o in n)n.hasOwnProperty(o)&&!this._attachListener(n[o],i,e.listener)&&(t=!1,m.log("Event not added to"+n[o]));return t}_attachListener(e,t,i){return e?(e.jquery&&(e=e[0]),d.addEventListener(e,t,i),m.log(`Event Listener bind to: ${e} on event `+t),!0):(m.log("Event not registered - invalid element/s."),null)}isValid(t){let e=!1,i=["elements","listener"],n=t.elements||null,a=t.listener||null;for(let e=0;e<i.length;e++)if(void 0===t[i[e]]||!t[i[e]])return m.log("Invalid Event object. Missing: "+i[e]),!1;return"function"!=typeof a?(m.log(`Invalid Event: "listener" must be a function. Got (${a})`),!1):(n instanceof Node||n instanceof NodeList||n instanceof HTMLElement||n instanceof HTMLCollection||n instanceof Window||n instanceof Document||"function"==typeof n||void 0!==window.Demandbase.jQuery&&n instanceof window.Demandbase.jQuery?e=!0:m.log(`Invalid Event:  element: ${n} has type: "${n.constructor}" which is not proper instance type.`),e)}};let w=new class extends n{detectIFrame(){return window.top!==window.self}getDocumentReadyState(){return document.readyState}isCookieEnabled(){try{return window.navigator.cookieEnabled&&(document.cookie="COOKIE_TEST=TEST",-1!==l.indexOf(document.cookie,"COOKIE_TEST=TEST"))?(document.cookie="COOKIE_TEST=PASSED_TEST",!0):!1}catch(e){return!1}}getCurrentUrl(e){let t=document.location.href;return window.Demandbase.Config.isInIFrame&&(t=document.referrer),t=e?e:t}isCurrentPage(e,t){let{hash:i}=document.location,{search:n}=document.location,a=this.getCurrentUrl(t);if(t){let e=l.indexOf(t,"#");-1===e&&(e=t.length),i=t.substring(l.indexOf(t,"#"),t.length),n=t.substring(l.indexOf(t,"?"),e),a=t}function o(e){return 0===l.indexOf(e,"//")?e.substring(2,e.length):e.replace(/^.*?:\/\//g,"")}function s(e){return e.replace(/^(www\.)/g,"")}function r(e){return(-1!==l.indexOf(e,"#",e.length-1)&&(e=e.substring(0,e.length-1)),-1!==l.indexOf(e,"/",e.length-1)&&(e=e.substring(0,e.length-1),-1!==l.indexOf(e,"/",e.length-1)))?r(e):e}e=r(e=s(e=o(e))),a=r(a=s(a=o(a))),-1===l.indexOf(e,"#")&&-1!==l.indexOf(a,"#")&&(a=a.substring(0,a.length-i.length));var t=(a=r(a=-1===l.indexOf(e,"?")&&-1!==l.indexOf(a,"?")?a.substring(0,a.length-n.length):a))===e;return m.log("utilities.isCurrentPage(): Page check resulted in: "+t),t}isCurrentPageRegex(e,t){var i,t;return!(!e||e.length<=0)&&(t=("$"!==(e="^"!==e[0]?"^"+e:e)[e.length-1]&&(e+="$"),this.getCurrentUrl(t)),new RegExp(e).test(t))}isStorageEnabled(e){try{var t=window[e.toString()];return t.setItem("STORAGE_CHECK","STORAGE_CHECK"),t.getItem("STORAGE_CHECK"),t.removeItem("STORAGE_CHECK"),!0}catch(e){return!1}}jqid(e){return e?"#"+e.replace(/(:|\.|\[|\]|,)/g,"\\$1"):null}includesAny(t,i){for(let e=0;e<i.length;e++)if(this.includes(t,i[e]))return!0;return!1}isValidEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\\/]/g,"\\$&")}nodeListToArray(t){var i=[];for(let e=0;e<t.length;e++)i.push(t[e]);return i}includes(e,t){return!(!t||t.length>e.length||-1===l.indexOf(e,t))}generateUuid(){try{return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16))}catch(e){return console.error("Failed to generate UUID:",e),"id-"+Date.now()+"-"+Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)}}getApiAuthToken(){return this.dig(window.Demandbase,"Config","key")||this.dig(window.Demandbase,"Config","analytics","key")||this.dig(window.Demandbase,"Config","ads","key")||this.dig(window.Demandbase,"Config","forms","key")||this.DEFAULT_NO_TOKEN_VALUE}setHttpsProtocol(e){return e.replace(/^([^:]+:\/\/)?/,c.PROTOCOL)}constructor(...e){super(...e),this.DEFAULT_NO_TOKEN_VALUE="ERR_NO_AUTH_KEY"}};class h{static{this.key=w.getApiAuthToken()}static{this.CompanyProfile={}}static get domainAPIUrl(){var e=d.dig(window.Demandbase,"Config","domainAPI","url")||d.dig(window.Demandbase,"Config","general","domainAPI","url")||c.URL_DOMAIN_API;return w.setHttpsProtocol(e)}static{this.useTestValue="true"===d.getQueryParam(c.QS_USE_TEST_DOMAIN)||window.Demandbase?.Config?.useTestDomain||!1}static{this.testValue=d.getQueryParam(c.QS_QUERY_DOMAIN)||window.Demandbase?.Config?.testDomain||"No Test Domain Set"}static _callback(e){e.domain||e.person?(e=e.domain||e.person,d.flatten(e),this.CompanyProfile=e):m.log("Demandbase.Domain: No company profile available for domain: "+this.getDomain())}static load(){if("function"==typeof window.Demandbase.Config.getDomain){let e;void 0!==this.key&&this.key!==w.DEFAULT_NO_TOKEN_VALUE||(this.key=w.getApiAuthToken());var t="",i={},t=this.useTestValue?this.testValue:this.getDomain(),i={key:this.key,callback:"Demandbase.Domain._callback",query:t,src:"tag"};m.log("Calling Domain API at: "+this.domainAPIUrl),window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP"));try{e.open("POST",this.domainAPIUrl),void 0!==e.withCredentials&&(e.withCredentials=!0),e.send(JSON.stringify(i))}catch(e){throw m.log("IP API Request Blocked"),e}d.insertScript(s.buildApiUrl(this.domainAPIUrl,i),"db_domain_api")}else m.log("Domain API query cancelled - check auth key or Config.getDomain")}static getDomain(){return this.useTestValue?this.testValue:"function"==typeof window.Demandbase.Config.getDomain?window.Demandbase.Config.getDomain.call(window.Demandbase.Config):(m.log("Warning: Config.getDomain fcn not defined."),"getDomain function is not defined")}}var f=class extends i{constructor(e){super(e),this.ADVERTISING_PIXEL_ID="ad",this.CONVERSION_PIXEL_ID="cn",this.RETARGETING_PIXEL_ID="rt",this.SMART_PIXEL_ID="db-sync",this.PIXEL_ID_IX="ix",this.PIXEL_ID_MCTV="mctv",this.PIXEL_ID_MAGNITE_DV="rp",this.PIXEL_ID_LR="lr",this.DEFAULT_CONFIGURATION={enabled:!0,key:void 0,reportingOnly:!1,enableBW:!1,enableLR:!0,enableIX:!0,enableMCTV:!0,enableRP:!0,enableSmartPixel:!0},this.configuration={},this.trackConversion=this.trackConversionListener,this.load=this.initialize,this.loadPixels=this.insertPixels,this._loadPixel=this.insertPixel,this._setCampaign=this.loadCampaign,this._setEvents=this.registerEvents,this._setup=()=>(super.mergeConfigs(this.DEFAULT_CONFIGURATION,e||window.Demandbase.Config.Advertising),super.mergeConfigs(e||window.Demandbase.Config.ads),this),this._setup()}initialize(){super.initialize(),this.insertPixels(),!0===this.configuration.reportingOnly&&this.configuration.key&&this.configuration.key!==window.Demandbase.Config.key&&window.Demandbase.IpApiReportingOnly.get(this.configuration.key,!1)}isConversionPage(){throw Error(d.generateDeprecationMessage("AdvertisingModule.isConversionPage","8.0.0"))}insertPixels(){this.configuration.enableSmartPixel&&this.insertSmartPixel(),this.configuration.enableBW&&m.log("BW pixel is deprecated and will not load."),this.configuration.enableLR&&(m.log("LR pixel enabled"),this.insertLRPixel(this.ADVERTISING_PIXEL_ID))}createAndAppendPixel(e,t){var i=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0],n=document.createElement("img");n.style.cssText="display: none;",n.setAttribute("alt",""),n.setAttribute("aria-hidden","true"),n.setAttribute("width","0"),n.setAttribute("height","0"),n.id=e,n.src=t,i.appendChild(n)}createAndAppendIFrame(e,t){var i=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0],n=document.createElement("iframe");return n.style.cssText="display: none; border: 0px;",n.setAttribute("alt",""),n.setAttribute("aria-hidden","true"),n.setAttribute("width","0"),n.setAttribute("height","0"),n.setAttribute("sandbox",""),n.id=e,n.src=t,i.appendChild(n),n}insertSmartPixel(){m.log("insertSmartPixel(): Smart pixel loading");var e=this.buildSmartPixelParameters(),e=c.URL_SMART_PIXEL+"?"+e;return this.createAndAppendIFrame(this.SMART_PIXEL_ID,e)}buildSmartPixelParameters(){var e=[];e.push(this.PIXEL_ID_LR),this.configuration.enableIX||e.push(this.PIXEL_ID_IX),this.configuration.enableMCTV||e.push(this.PIXEL_ID_MCTV),this.configuration.enableRP||e.push(this.PIXEL_ID_MAGNITE_DV);let t="";return t=0<e.length?"exc="+e.join(","):t}insertLRPixel(e){var e="db_lr_pixel_"+e,t=c.PROTOCOL+c.URL_LR_AD_PIXEL;this.createAndAppendPixel(e,t)}insertPixel(e){throw Error(d.generateDeprecationMessage("AdvertisingModule.insertPixel","8.0.0"))}loadCampaign(){throw Error(d.generateDeprecationMessage("AdvertisingModule.loadCampaign","8.0.0"))}registerEvents(){throw Error(d.generateDeprecationMessage("AdvertisingModule.registerEvents","8.0.0"))}trackConversionListener(){throw Error(d.generateDeprecationMessage("AdvertisingModule.trackConversionListener","8.0.0"))}virtualPageViewListener(){throw Error(d.generateDeprecationMessage("AdvertisingModule.virtualPageViewListener","8.0.0"))}};class b extends i{get API_ENDPOINT(){return w.setHttpsProtocol(d.dig(window.Demandbase,"Config","Event","server")||c.URL_EVENT_API)}get EVENTS_ENDPOINT(){return this.API_ENDPOINT+"/events/"}constructor(e){super(e),this.DEFAULT_CONFIGURATION={enabled:!1},this.initialized=!1,this.configuration={},this._setup=()=>(this.token=w.getApiAuthToken(),l.assign(this.configuration,d.dig(window.Demandbase,"Config","Event"),e),this),this._setup()}initialize(){try{super.initialize(),this.initialized=!0}catch(e){this.initialized=!1,g.send(e)}}createRequest(){let e;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}async sendEvent(e,t){if(this.configuration.enabled){this.initialized||this.initialize();var i=this.createRequest(),t={token:this.token,uuid:w.generateUuid(),type:e,amazon_request_id:d.dig(window.Demandbase,"Config","IpApiModule","cloudFrontRequestId")||"",extra:{xp_id:t}};try{i.open("POST",this.EVENTS_ENDPOINT),i.setRequestHeader("Content-Type","application/json"),void 0!==i.withCredentials&&(i.withCredentials=!0),i.send(JSON.stringify(t)),m.log("Event API Post Request Succeeded")}catch(e){throw m.log("Event API Post Request Failed"),e}}else m.log("Event delivery is disabled in the tag config. The event will not be sent.")}}new b;class D extends i{constructor(e){super(e),this.DEFAULT_CONFIGURATION={enabled:!0,events:null,fieldMap:null,googleAnalyticsClassicScope:2,trackerName:null,trackerId:null,polling:null,eventName:"Demandbase_Event"},this.configuration=l.assign({},this.DEFAULT_CONFIGURATION),this.cachedEvents=[],this.pollCount=0,this.gType="",this._cEvent=this.sendEvent,this._setup=()=>(super.mergeConfigs(e||window.Demandbase.Config.Google_Analytics),super.mergeConfigs(e||window.Demandbase.Config.analytics),this),this._setup()}initialize(){super.initialize(),this._detectG(),this._setTrackerName(),this.configuration.polling&&this.configuration.polling.enabled&&this._waitForGATrackers(),this.configuration.fieldMap&&"{}"!==l.JSON.stringify(this.configuration.fieldMap)&&window.Demandbase.Callbacks.registerCallback(this.callback.bind(this)),this._setEvents()}sendEvent(e,t,i){this.configuration.polling&&this.configuration.polling.enabled&&!this.configuration.polling.hasBeenInitialized?(this.cachedEvents.push({category:e,action:t,label:i}),m.log(`Cache Custom Event:UA: ${e}/${t}/`+i)):("ga"===this.gType?this._trackEvent(e,t,i):window.ga&&"function"==typeof window.ga?window.ga(()=>{this._sendEvent(e,t,i)}):m.log(`sendEvent(): window.ga is not defined or not a function. Failed to send Custom UA Event:${e}/${t}/`+i),m.log(`sendEvent(): Sent Custom UA Event:${e}/${t}/`+i))}_waitForGATrackers(){this.configuration.polling.hasBeenInitialized=!1,(window.ga&&window.ga.getAll&&0<window.ga.getAll().length||window.dataLayer)&&!this.configuration.polling.hasBeenInitialized?(m.log("Loaded with polling count:"+this.pollCount),this._sendCachedEventsWhenPollingEnd()):this.pollCount>this.configuration.polling.maxCount||this.configuration.polling.hasBeenInitialized?(this._sendCachedEventsWhenPollingEnd(),m.log("From base-google-analytics: GA is giving up on polling with count: "+this.pollCount)):(m.log("From base-google-analytics: Polling one more time: Count: "+this.pollCount),this.pollCount++,setTimeout(this._waitForGATrackers.bind(this),this.configuration.polling.interval))}_sendCachedEventsWhenPollingEnd(){this.configuration.polling.hasBeenInitialized=!0,m.log(`_sendCachedEventsWhenPollingEnd(): sending ${this.cachedEvents.length} cached events to GA`),this.cachedEvents.forEach(({gaType:e,category:t,action:i,label:n,eventName:a,payload:o})=>{"ga4"===e&&a&&o?this.sendEventGA4(a,o):this.sendEvent(t,i,n)}),this.cachedEvents=[],this.pollCount=0}_setTrackerName(){if(!this.configuration.trackerName){var e="function"==typeof window.ga;if(void 0!==window._gat&&"function"==typeof window._gat._getTrackers){var t=_gat._getTrackers();if(void 0!==t.length&&0<t.length){if(this.configuration.trackerId)for(let e=0;e<t.length;e++)if(0<t[e]._getName().length){var i=t[e]._getName();if(t[e]._getAccount()===this.configuration.trackerId&&!this.configuration.trackerName){return this.configuration.trackerName=i,void 0}}var n=t[0]||null;if(n&&"function"==typeof n._getName){var n=n._getName()||null;this.configuration.trackerName||(this.configuration.trackerName=n)}}}e&&window.ga(()=>{var t="function"==typeof window.ga.getAll&&window.ga.getAll()||[];if(this.configuration.trackerId)for(let e=0;e<t.length;e++){var i=t[e],n=i.get("name");if(i.get("trackingId")===this.configuration.trackerId){return this.configuration.trackerName=n,void 0}}if(void 0!==t.length&&0<t.length){var e=t[0]||null;if(e&&"function"==typeof e.get){var e=e.get("name")||null;this.configuration.trackerName=e}}})}}isGA4(){var e=this.configuration.trackerId||"";return"ga4"===this.gType||"string"==typeof e&&l.startsWith(e,"G-",0)||!1}getCachedEvents(){return this.cachedEvents}sendEventGA4(e,t){this.configuration.polling&&this.configuration.polling.enabled&&!this.configuration.polling.hasBeenInitialized&&!window.dataLayer?(this.cachedEvents.push({gaType:"ga4",eventName:e,payload:t}),m.log(`sendEventGA4(): Cached Custom Event: eventName: ${e} with payload: `+JSON.stringify(t))):window.dataLayer?(this.configuration.trackerId&&(t.send_to=this.configuration.trackerId),this.dbgtag("event",e,t),m.log(`sendEventGA4(): Successfully pushed event: eventName: ${e} with payload: `+JSON.stringify(t))):m.log(`sendEventGA4(): Datalayer was not defined, not sending eventName: ${e} with payload: `+JSON.stringify(t))}dbgtag(){window.dataLayer.push(arguments)}callback(e){try{if(!e)throw Error("Error - no data passed to callback");var t=window.Demandbase.Connectors.Google_Analytics,i=(t._detectG(),t._setTrackerName(),{}),n;for(n in t.configuration.fieldMap)if(t.configuration.fieldMap.hasOwnProperty(n)){var a=+n,o=t.configuration.fieldMap[n],s=d.getAttributeValue(e,o);i[n]=s,t._var(a,o,s.toString())}if(t.isGA4()){var r=t.configuration.eventName||"Demandbase IP API Resolution";t.sendEventGA4(r,i)}else t.sendEvent("Demandbase","API Resolution","IP API")}catch(e){m.log(`GA Error: ${e}
`+e.stack),window.Demandbase.Connectors.Google_Analytics.isGA4()?window.Demandbase.Connectors.Google_Analytics.sendEventGA4("Demandbase IP API Callback Error",{}):window.Demandbase.Connectors.Google_Analytics.sendEvent("Demandbase","API Resolution","Callback Error")}}_detectG(){window._gaq?(this.gType="ga",_gaq.push(["_addDevId","NE7T9"])):this.gType=null,this._setGaObject();try{window.ga(()=>{window.Demandbase.Connectors.Google_Analytics.gType="ua"})}catch(e){window.Demandbase.Connectors.Google_Analytics.gType="ua"}this.isGA4()&&(this.gType="ga4"),m.log("Detected Google version: "+this.gType)}_sendEvent(e,t,i){if(window.ga&&"function"==typeof window.ga){var n=this.configuration.trackerName?this.configuration.trackerName+".send":"send",e={eventCategory:e,eventAction:t,eventLabel:i,nonInteraction:!0};m.log(`_sendEvent(): ${n}, "event", with payload: `+JSON.stringify(e)),window.ga(n,"event",e)}else m.log("_sendEvent(): ga is not defined or not a function: "+window.ga)}_setCustomDimension(e,t){if(window.ga&&"function"==typeof window.ga){var i=this.configuration.trackerName?this.configuration.trackerName+".set":"set";m.log(`_setCustomDimension(): command=${i} index=${e} value=`+t),window.ga(i,"dimension"+e,t)}else m.log("_setCustomDimension(): ga is not defined or not a function: "+window.ga)}_setCustomVariable(e,t,i){var n=this.configuration.trackerName?this.configuration.trackerName+"._setCustomVar":"_setCustomVar",a=this.configuration.googleAnalyticsClassicScope||2;m.log(`_setCustomVariable(): command=${n} index=${e} scope=${a} name=${t} value=`+i),window._gaq.push([n,e>>0,t,i,a])}_setEvents(){var e=this.configuration.events||[];if(e)for(var t in e)if(e.hasOwnProperty(t)){var t=e[t];if(t.data){var i=t.data.category||"",n=t.data.action||"",a=t.data.label||"";void 0===t.listener&&i&&n&&a?t.listener=function(){window.Demandbase.Connectors.Google_Analytics.sendEvent(i,n,a),m.log("Event listener ran")}:i&&n&&a||m.log("Need to define a custom listener function or set data with category/action/label")}p.add(t)}}_setGaObject(){void 0===window.ga&&(window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date)}_trackEvent(e,t,i){var n=this.configuration.trackerName?this.configuration.trackerName+"._trackEvent":"_trackEvent";m.log(`_trackEvent(): command=${n} category=${e} action=${t} label=`+i),window._gaq.push([n,e,t,i,0,1])}_var(e,t,i){"ga"===this.gType?this._setCustomVariable(e,t,i):window.ga&&"function"==typeof window.ga?window.ga(()=>{window.Demandbase.Connectors.Google_Analytics._setCustomDimension(e,i)}):m.log("_var(): Failure to set GA var. GA is not defined or not a function: "+window.ga),m.log(e+` ${t} : `+i)}}class E extends D{getTrackerInfo(){let t=[],i=[];return void 0!==window._gaq&&void 0!==window._gat&&"function"==typeof window._gat._getTrackers&&window._gat._getTrackers().forEach(function(e){0<e._getName().length&&t.push({type:"classic",trackerId:e._getAccount(),name:e._getName()})}),void 0!==window.ga&&void 0!==window.ga.getAll&&window.ga.getAll().forEach(function(e){i.push({type:"universal",trackerId:e.get("trackingId"),name:e.get("name")})}),i.concat(t)}}class y extends i{constructor(e){super(e),this.DEFAULT_CONFIGURATION={enabled:!0,assetList:["api.demandbase.com/autocomplete/widget.js","api.demandbase.com/autocomplete/widget.min.js","autocomplete.demandbase.com/autocomplete/widget.js","autocomplete.demandbase.com/autocomplete/widget.min.js","scripts.demandbase.com/formWidget.js","scripts.demandbase.com/formWidgetDebug.js","scripts.demandbase.com/demandbase-sdk.js","scripts.demandbase.com/demandbase-sdk-debug.js","scripts.demandbase.com/forms.js","scripts.demandbase.com/forms.min.js"]},this.ERROR_MESSAGE_PREFIX="Legacy Asset Detected: ",this.configuration={},this.values={},this._setup=()=>(super.mergeConfigs(this.DEFAULT_CONFIGURATION,e||window.Demandbase.Config.AssetReporter),this),this._setup()}initialize(){super.initialize(),"complete"===w.getDocumentReadyState()?this.read():d.addEventListener(window,"load",g.wrap(this.read.bind(this)))}read(){var t=this.configuration.assetList.length;for(let e=0;e<t;e++){var i=this.configuration.assetList[e];document.querySelector(`script[src='${c.PROTOCOL}${i}']`)?(this.values[i]=!0,this.send(i)):this.values[i]=!1}}send(e){var e=Error(this.ERROR_MESSAGE_PREFIX+e);g.send(e)}}class C extends i{constructor(e){super(e),this.TEST_MODE_ENABLED="db_useTestIp",this.TEST_MODE_VALUE="db_ip",this.API_VERSION="v2"===d.dig(window.Demandbase,"Config","general","APIVersion")?"v2":"v3",this.API_ENDPOINT=`api.company-target.com/api/${this.API_VERSION}/ip.json`,this.REGEX_API_ENDPOINT_VERSION=/.com\/api\/(v[0-9]+)\/ip.json/g,this.TAG_LOGGER_ENDPOINT="tag-logger.demandbase.com/bg9s",this.DEFAULT_CONFIGURATION={apiKey:null,baseUrl:this.API_ENDPOINT,baseLoggerUrl:this.TAG_LOGGER_ENDPOINT,testModeEnabled:!1,testModeValue:null,enabled:!0,masIntegrations:{pardot:!1},enablePardotPolling:!0},this.configuration=l.assign({},this.DEFAULT_CONFIGURATION),this.initialized=!1,this.pollForPardotStart=0,this.pardotMaxPollWindow=5e3,this.key=this.configuration.apiKey,this.useTestValue=this.configuration.testModeEnabled,this.testValue=this.configuration.testModeValue,this.load=this.get,this._loadOnce=this.getOnce,this.CompanyProfile=void 0,this.isCalled=!1,this.experiences={};try{this._setup=()=>(super.mergeConfigs({apiKey:w.getApiAuthToken(),testModeEnabled:d.getQueryParam(this.TEST_MODE_ENABLED)||window.Demandbase.Config.useTestIp,testModeValue:d.getQueryParam(this.TEST_MODE_VALUE)||window.Demandbase.Config.testIp},d.getFirstNonEmptyObject(e,window.Demandbase.Config.IpApiModule,d.dig(window.Demandbase.Config,"general","IpApiModule"))),this),this._setup(),this.initialized=!0}catch(e){this.initialized=!1}}initialize(){try{super.initialize(),this.initialized=!0}catch(e){this.initialized=!1,g.send(e)}}async buildIPAPIParameters(e){var t={query:this.fetchIpAddress(),mas_integrations:void 0,src:"tag"};if(document.interestCohort){var i=await document.interestCohort();t.cohort_id=i.id,t.cohort_version=i.version}return window.Demandbase.Config.isVoltronEnabled?l.assign(t,{auth:e||this.configuration.apiKey}):l.assign(t,{key:e||this.configuration.apiKey})}getNewRequest(){let e;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}async get(e,t=!0){this.initialized||this.initialize();let i=this.getNewRequest();if(!i||d.isOldBrowserOrUserAgentUnavailable())return await this.getByDomScript(e,t),m.log("IP API query via DOM tag");var n=await this.buildIPAPIParameters(e),a=d.getQueryParam(c.QS_PREVIEW_TOKEN);if(a&&(n.preview_token=a),!n.key&&!n.auth)return m.log("IP API query cancelled - check auth key.");this.configuration.masIntegrations&&this.configuration.masIntegrations.pardot?n.mas_integrations=d.b64EncodeUnicode(l.JSON.stringify({pardot:this.fetchOrPollForPardotCookie()||{}})):m.log("No Pardot integration in config, skipping cookie sync"),t&&(i.onreadystatechange=g.wrap(()=>{this.responseHandler(i)}));try{i.open("POST","https://"+s.buildApiUrl(this.configuration.baseUrl));var o=await this.getThirdPartyOptInLabel();o&&(n.cookie_deprecation_label=o),void 0!==i.withCredentials&&(i.withCredentials=!0),i.send(JSON.stringify(n))}catch(e){if(0!==i.status)throw e;if(!this.isIgnorableDevice())throw Error("IP API Request Blocked")}}getAPIVersion(){var e=this.configuration.baseUrl,e=this.REGEX_API_ENDPOINT_VERSION.exec(e);return e&&2===e.length?e[1]:"v3"}async getThirdPartyOptInLabel(){try{return void 0!==window.navigator&&void 0!==window.navigator.cookieDeprecationLabel&&"function"==typeof window.navigator.cookieDeprecationLabel.getValue?await window.navigator.cookieDeprecationLabel.getValue():""}catch(e){return m.log("Error getting third party opt in"+e+" stack: "+e.stack),""}}async callTagLogger({xAmzCfId:e}){var t=this.getNewRequest(),i=this.getAPIVersion();try{t.open("GET","https://"+this.configuration.baseLoggerUrl+s.buildQueryString({"x-amz-cf-id":e,"api-version":i},!1)),void 0!==t.withCredentials&&(t.withCredentials=!1),t.send()}catch(e){if(0!==t.status)throw e;if(!this.isIgnorableDevice())throw Error("Tag IPV6 request declined")}}isIgnorableDevice(){for(let e=0;e<c.NON_HUMAN_DEVICES.length;e++)if(c.NON_HUMAN_DEVICES[e].test(window.navigator.userAgent))return!0;return!1}async getByDomScript(e,t=!0){var e=l.assign({},await this.buildIPAPIParameters(e),{callback:t?"Demandbase.Utilities.Callbacks.domScriptCallback":""});if(!e&&!e.auth)return m.log("IP API query cancelled - check auth key.");d.insertScript(s.buildApiUrl(this.configuration.baseUrl,e),"db_ip_api")}getOnce(){this.isCalled?m.log("IP API call halted. Already called."):(this.isCalled=!0,this.get(window.Demandbase.Config.key,!0))}fetchIpAddress(){if(this.configuration.testModeEnabled)return this.configuration.testModeValue||""}responseHandler(t){if(4===t.readyState&&200===t.status){var{responseText:i}=t;try{var e=l.JSON.parse(i);if(this.parseResponseForExperiences(e),this.CompanyProfile=d.flatten(e),!this.CompanyProfile)throw m.log("IP API response is not a valid value for callbacks: "+JSON.stringify(this.CompanyProfile)),Error("IP API response was 200 but content invalid");window.Demandbase.Utilities.Callbacks.callback(this.CompanyProfile);var n=t.getResponseHeader("x-amz-cf-id");n&&(d.dig(window.Demandbase,"Config","IpApiModule")&&(window.Demandbase.Config.IpApiModule.cloudFrontRequestId=n),this.callTagLogger({xAmzCfId:n}))}catch(e){if(window.Demandbase.ErrorReporter.additionalErrorDetails={status:t.status,readyState:t.readyState,url:t.responseURL,body:i},"string"==typeof i&&i)throw e;throw Error("responseText should be text and not empty")}}}parseResponseForExperiences(e){return e&&e.hasOwnProperty("experiences")&&(m.log("IpAPI.parseResponseForExperiences(): Experiences present in IP API response."),this.experiences=e.experiences),this.experiences}fetchOrPollForPardotCookie(){if(this.configuration.masIntegrations&&this.configuration.masIntegrations.pardot){var e=d.getCookiesByRegex(c.PARDOT_VISITOR_COOKIE_REGEX,document);if("object"==typeof e&&0<l.keys(e).length)return m.log("Found Pardot cookie, including in API request"),e;!1!==(this.configuration.enablePardotPolling&&0===this.pollForPardotStart)&&(m.log("Pardot cookie not found, initiating polling"),this.pollForPardotCookie())}else m.log("No Pardot integration in config, skipping cookie sync")}pollForPardotCookie(){(0===this.pollForPardotStart&&(this.pollForPardotStart=Date.now(),m.log("Pardot cookie polling started at "+this.pollForPardotStart)),Date.now()-this.pollForPardotStart>this.pardotMaxPollWindow)?m.log(`Pardot cookie not found within ${this.pardotMaxPollWindow} ms`):this.fetchOrPollForPardotCookie()?(m.log("Pardot cookie found, making second API call"),this.get(window.Demandbase.Config.key,!1)):window.setTimeout(()=>{this.pollForPardotCookie()},100)}}class _ extends i{constructor(e){super(e),this.FORMS_REMOTE_MODULE_NAME="forms_d26de7e79e.min.js",this.FORMS_REMOTE_MODULE_URL="tag.demandbase.com/shared/"+this.FORMS_REMOTE_MODULE_NAME,this.DEFAULT_CONFIGURATION={enabled:void 0,emailID:null,emailFields:[]},this.configuration={},this.inserted=!1,this._setup=()=>(this.setConfiguration(e),this),this._setup(),this.FORMS_REMOTE_MODULE_URL="tag.demandbase.com/shared/"+this.FORMS_REMOTE_MODULE_NAME,_.prototype.FORMS_REMOTE_MODULE_URL=this.FORMS_REMOTE_MODULE_URL}initialize(){super.initialize(),u.registerCallback(this.whenReady.bind(this))}whenReady(){this.isMktoForms2Installed()?window.MktoForms2.whenReady(g.wrap(this.load.bind(this))):this.load()}load(){let e=!1;(e=("function"==typeof window.Demandbase.Config.isFormPage?(e=window.Demandbase.Config.isFormPage(),this.setConfiguration(),window.Demandbase.Config):this).isFormPage())&&!this.inserted&&this.insertForms()}isFormPage(){var t=this.configuration.emailFields;this.configuration.emailID&&t&&t.push(this.configuration.emailID);for(let e=0;e<(t||[]).length;e++)if(t&&d.getElementByIdOrName(t[e]))return!0;return!1}isMktoForms2Installed(){return void 0!==window.MktoForms2&&void 0!==window.MktoForms2.whenReady}insertForms(){this.inserted=!0,window.Demandbase.Connectors.initWebForm=this.initializeWebForm,d.insertScript(this.FORMS_REMOTE_MODULE_URL||_.prototype.FORMS_REMOTE_MODULE_URL,"db_form_module")}initializeWebForm(e){e=e||window.Demandbase.Config.forms||window.Demandbase.Config.Forms||{},window.Demandbase.Connectors.WebForm.connect(e)}setConfiguration(e){super.mergeConfigs(this.DEFAULT_CONFIGURATION,e||window.Demandbase.Config.Forms),void 0===this.configuration.enabled&&void 0!==window.Demandbase.Config.Forms&&(this.configuration.enabled=!0),super.mergeConfigs(this.DEFAULT_CONFIGURATION,e||window.Demandbase.Config.forms),void 0===this.configuration.enabled&&void 0!==window.Demandbase.Config.forms&&(this.configuration.enabled=!0)}}class v extends i{constructor(e){super(e),this.DEFAULT_CONFIGURATION={enabled:!0},this.configuration={},this._setup=()=>(super.mergeConfigs(this.DEFAULT_CONFIGURATION,e||window.Demandbase.Config.Google_TagManager),this),this._setup()}initialize(){super.initialize(),u.registerCallback(this.callback.bind(this))}callback(e){this.pushToDataLayer(e)}pushToDataLayer(t,i){let n=0,a=()=>{var e;return window.google_tag_manager&&window.dataLayer&&"function"==typeof dataLayer.push?(e=i?"_"+i:"",window.dataLayer.push(t),window.dataLayer.push({event:"Demandbase_Loaded"+e}),m.log("Pushed to GTM dataLayer"),!0):(n<4&&(m.log(`Retrying GTM dataLayer push... ${n} of 4`),setTimeout(a,500),n++),!1)};return a()}}class A extends i{constructor(e){super(),this.DEFAULT_CONFIGURATION={enabled:!0,fireOnLoad:!1,formInputSelectors:['input[type="text"]','input[type="email"]'],inputSearchTerms:["email","user","login"]},this.configuration={},this.baseUrl="https://segments.company-target.com",this.activeSetTimeout=0,this._setup=()=>(super.mergeConfigs(this.DEFAULT_CONFIGURATION,e||window.Demandbase.Config.EmailDomainReporter),this),this._setup()}initialize(){super.initialize(),this.configuration.fireOnLoad&&this.sendDataIfAlreadyPresent(),this.attachListenersIfDocumentReady()}sendDataIfAlreadyPresent(){var e=this.suspectedEmailInputs();e.length<1||e.forEach(e=>{var{value:e}=e;if(w.isValidEmail(e)){var e=e.split("@")[1].toLowerCase();this.send(e)}})}attachListenersIfDocumentReady(){"loading"===w.getDocumentReadyState()?document.addEventListener("DOMContentLoaded",this.attachListenersIfDocumentReady.bind(this)):this.suspectedEmailInputs().forEach(e=>{e.addEventListener("input",()=>{var{value:t}=e;if(w.isValidEmail(t)){let e=t.split("@")[1].toLowerCase();window.clearTimeout(this.activeSetTimeout),this.activeSetTimeout=window.setTimeout(()=>{this.send(e)},400)}})})}suspectedEmailInputs(){return w.nodeListToArray(document.querySelectorAll(this.configuration.formInputSelectors.join(","))).map(e=>e).filter(e=>{var t=e.name.toLowerCase(),e=e.id.toLowerCase(),i=this.configuration.inputSearchTerms;return!(!w.includesAny(t,i)&&!w.includesAny(e,i))})}getNewRequest(){let e;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}send(e){var t=this.getNewRequest(),i=w.getApiAuthToken(),i=d.b64EncodeUnicode(`vendor=mariposa&p1=${e}&token=`+i),i=this.baseUrl+"/l/"+i;try{t.open("GET",i),t.withCredentials=!0,t.setRequestHeader("Content-type","application/json"),t.send()}catch(e){throw e}}responseHandler(e){}}class I{static{this.REGEX_CUSTOM_MODULE_NAME=/(.*)__(.*)/}constructor(e,t,i){this.config=e,this.moduleNameToConstructorMap=t,this.nameSpace=i}build(){this._parseConfig()}_parseConfig(){l.keys(this.config).forEach(e=>{var t=this._testConfigForKey(e);if(t&&3===t.length){var t=t[1],i=this.moduleNameToConstructorMap[t];this.nameSpace[e]?g.send(Error(`Failed to dynamically create configuration for ${e} due to previously existing configuration with the same name.`)):i?(this.nameSpace[e]=new i(this.config[e]),this.nameSpace[e].isEnabled()&&this.nameSpace[e].initialize()):g.send(Error("No constructor available in moduleNameToConstructor map for module: "+t))}})}_testConfigForKey(e){return I.REGEX_CUSTOM_MODULE_NAME.exec(e)}}class P extends i{constructor(e){super(e),this.DEFAULT_CONFIGURATION={isEnabled:!1,experiences:{},retryMS:0,totalWaitTime:0},this.SC_QUERY_PARAMETER_FORCE_FIRE="db_sc_experience_by_id",this.preTagModuleEnabled=!1,this.configuration=l.assign({},this.DEFAULT_CONFIGURATION),this.wrappedExperiences={},this.initialized=!1,this._setup=()=>(this.preTagModuleEnabled=!!window.Demandbase.PreTag,this.constructorConfig=e,super.mergeConfigs(this.configuration,this.DEFAULT_CONFIGURATION,window.Demandbase.Config.SiteCustomization,e),this),this._setup()}isEnabled(){return!0===this.configuration.isEnabled||!0===this.configuration.enabled}initialize(){(super.initialize(),this.isEnabled())?(this.preTagModuleEnabled=!!window.Demandbase.PreTag,super.mergeConfigs(this.configuration,window.Demandbase.Config.SiteCustomization,this.constructorConfig),m.log("SiteCustomization.initialize(): Initializing..."),this.setup(),u.registerCallback(this.callback.bind(this))):m.log("Site Customization is currently disabled, will not fire.")}callback(){this.fireExperienceByQueryParameter()?m.log("SiteCustomization.callback(): Experience already forced to fire by query parameter!"):(m.log("SiteCustomization.callback(): Invoked! Setting up SC and firing."),this.setup(),this.fireSiteCustomization(),this.preTagModuleEnabled&&window.Demandbase.PreTag.restorePageVisibility())}setup(e){if(!e&&this.initialized)m.log("SiteCustomization.setup(): already initilaized! not running setup again.");else if(void 0!==this.configuration.experiences){var t=this.configuration.experiences||{},e=l.keys(t)||[],i;for(i in m.log(`SiteCustomization.setup(): Wrapping ${e.length} experiences for setup`),t){var n=new T(t[i]);n&&(this.wrappedExperiences[n.id]=n)}this.initialized=!0}}fireSiteCustomization(){return g.wrap(()=>{let t=window.Demandbase.IpApi.experiences;if(m.log("fireSiteCustomization(): Running for IP API experiences: "+JSON.stringify(t)),t){var e=Object.keys(t).map(e=>t[e]),i=this.sortExperiencesToFire(e);for(let e=0;e<i.length;e++)if(this.applyExperience(i[e].id))return!0}else m.log("fireSiteCustomization(): Error firing SC experience. IP API response does not contain valid experiences.");return!1})()}sortExperiencesToFire(e){return e&&Array.isArray(e)&&0!==e.length?(e.sort((e,t)=>{var i=this.wrappedExperiences[e.id]?this.wrappedExperiences[e.id].priority:null,n=this.wrappedExperiences[t.id]?this.wrappedExperiences[t.id].priority:null;return(i&&n||m.log(`sortExperiencesToFire(): Warning: priority is not defined ${i} or `+n),i!==n&&i&&n)?n-i:e.updated_at&&t.updated_at?new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime():(m.log(`sortExperiencesToFire(): Warning: updated_at is not defined ${e.updated_at} or `+t.updated_at),0)}),e):(m.log("sortExperiencesToFire(): No expereinces returned by IP API: "+JSON.stringify(e)),[])}fireExperienceById(e){return this.setup(),m.log("fireExperienceById(): Firing by experience id: "+e),this.applyExperience(e,!0)}fireExperienceByQueryParameter(){var e=d.getQueryParam(this.SC_QUERY_PARAMETER_FORCE_FIRE);return e?(m.log(`fireExperienceByQueryParameter(): Firing experience id: ${e} now`),this.setup(),this.applyExperience(e,!0)):(m.log(`fireExperienceByQueryParameter(): Not firing experience id: "${e}" as it is not valid`),!1)}applyExperience(e,t=!1){var i;return(m.log(`applyExperience(): Requested to apply Experience ID: ${e} with forceRun of `+t),e&&this.wrappedExperiences.hasOwnProperty(e))?(i=this.wrappedExperiences[e])?t?i.forceRun():i.run():(m.log(`applyExperience(): Experience ID: ${e} modobj not truthy: `+JSON.stringify(i)),!1):(m.log(`applyExperience(): Experience ID: ${e} not found in `+JSON.stringify(this.wrappedExperiences,null,4)),!1)}getCompanyProfile(){return window.Demandbase.IpApi&&window.Demandbase.IpApi.CompanyProfile||{}}CP(){return this.getCompanyProfile()}generateChangeActionValue(e,t){let i=this.getCompanyProfile();return!Object.keys(i).length&&!t.length||t.every(e=>i[e])?e:null}applyModifications(t,i){let n=0,a=0,o=function(e){return e?a+=1:n+=1,n+a>=t.length&&(m.log("applyModifications(): All modifications have returned"),i)&&(0===n?i(!0):i(!1)),e};t.forEach(e=>{this.applyModificationRetry(e,o.bind(this),0)})}applyModificationRetry(t,i,n){var{value:t,aliases:a,selector:o,typeKey:s}=t,r=document.querySelector(o);if(r){let e=this.generateChangeActionValue(t,a);return"string"==typeof e?(s.includes("backgroundImage")&&(e="url("+e+")"),d.set(r,s,e),m.log("applyModificationRetry(): Successfully applied for selector: "+o+" after "+n+" attempts."),i(!0)):(m.log("applyModificationRetry(): No change action applied for selector: "+o+" after "+n+" attempts."),i(!1))}return n*this.configuration.retryMS>=this.configuration.totalWaitTime?(m.log("applyModificationRetry(): Applying modification for querySelector: "+o+" timeout after "+n+" attempts."),i(!1)):(m.log("applyModificationRetry(): Retrying for selector: "+o+" currently at "+n+" attempts."),setTimeout(this.applyModificationRetry.bind(this,{value:t,aliases:a,selector:o,typeKey:s},i,n+1),this.configuration.retryMS),!1)}}class T{constructor(e){this.exp=e,this.isEnabled=!1,this.priority=null,this.id="",this.name="",this.pages=e.pages||[],this.pages instanceof Array||(this.pages=[this.pages]),this.isEnabled=e.isEnabled||!1,this.name=e.name||"",this.id=e.id||"",this.priority=e.priority||5e3,this.modify=e.modify||function(){},this.locations=e.locations||null,this.boundPostModificationCallback=this.postModificationCallback.bind(this)}postModificationCallback(e,t){window.Demandbase.PreTag&&window.Demandbase.PreTag.restorePageVisibility(),e&&(window.Demandbase.EventApi.sendEvent(c.EVENT_TYPES.EXPERIENCE_FIRED,this.id),t)&&t.length&&t.forEach(e=>{var e=document.querySelector(e.selector);e&&e.addEventListener("click",()=>{window.Demandbase.EventApi.sendEvent(c.EVENT_TYPES.EXPERIENCE_CLICKED,this.id)},{once:!0})}),m.log(`Experience.postModificationCallback: The experience named '${this.name}' ${e?"was successfully":"was NOT"} applied.`)}forceRun(){try{return m.log("Experience.forceRun: running modify function for: "+this.name),this.modify.call(this,document,this.boundPostModificationCallback),!0}catch(e){throw Error(c.MODIFICATION_ERROR+": "+e.message)}}run(){return this.isEnabled?this.doesPageMatch()?this.doesLocationMatch()?(m.log(`Experience.run(): Experience named: ${this.name} url and location matched, and will run.`),this.forceRun()):(m.log(`Experience.run(): SiteCustomization modify ${this.name} not fired. No location match found.`),!1):(m.log(`Experience.run(): SiteCustomization modify ${this.name} not fired. no URL match with: `+JSON.stringify(this.pages)),!1):(m.log(`Experience.run(): Experience named: ${this.name} is currently disabled, will not fire.`),!1)}doesPageMatch(){m.log(`Experience.doesPageMatch(): Experience named: ${this.name} checking these URLs: `+JSON.stringify(this.pages));for(let e=0;e<this.pages.length;e++)if(w.isCurrentPage(this.pages[e]||""))return!0;return!1}doesLocationMatch(){var e=this.getCompanyProfile().registry_country_code;return m.log(`Experience.doesLocationMatch(): Checking experience '${this.name}' with country code '${e}' against locations object: `+JSON.stringify(this.locations)),!!(!this.locations||"global"===this.locations.status||("string"!=typeof e||2!==e.length)&&this.locations.showUnknown||0===this.locations.countryCodes.length||-1<l.indexOf(this.locations.countryCodes,e))}getCompanyProfile(){return window.Demandbase.IpApi&&window.Demandbase.IpApi.CompanyProfile||{}}}let O="11.0.6";window.Demandbase&&(window.Demandbase.version=O);class R{constructor(e){this._isInitialized=!1,this.Config=window.Demandbase?.Config,this.setConfig=d.set,this.PreTag=e}setupOldDBClassic(){return window.Demandbase.Segments={_setup:()=>{},_reset:()=>{},load:()=>{},init:()=>{},getActiveSegments:()=>[],getInactiveSegments:()=>[],add:()=>[],get:()=>[],isValid:()=>!1,_isInitialized:()=>{},CompanyProfile:{}},window.Demandbase.DBCondition=()=>{},this}initialize(e){if(m.log("Demandbase.initialize: Initializing Demandbase with force = "+e),window.Demandbase||(window.Demandbase=this),window.Demandbase.ErrorReporter||(window.Demandbase.ErrorReporter=g,window.Demandbase.ErrorReporter.initialize()),window.Demandbase.version=O,this.setupOldDBClassic(),window.Demandbase.Shims=l,window.Demandbase.Config=l.assign(window.Demandbase.Config,window.Demandbase.Config||{}),window.Demandbase.Config.allowedDomains&&window.Demandbase.Config.allowedDomains.length)for(let e=0;e<window.Demandbase.Config.allowedDomains.length&&!(document.location&&document.location.href&&0<=document.location.href.indexOf(window.Demandbase.Config.allowedDomains[e]));e++)if(window.Demandbase.Config.allowedDomains.length-1===e)return m.log(`Demandbase.initialize: Domain ${document.location.href} - not in allowed list`),this;if(!window.Demandbase._isInitialized||e){this._isInitialized=!0,window.Demandbase._isInitialized=this._isInitialized,window.Demandbase.utils=w,l.assign(window.Demandbase.utils,w,{loadScript:w.insertScript,flattenData:w.flatten,getAttrValue:w.getAttributeValue,log:m.log,getElementByIdOrName:w.getElementByIdOrName,callback:u.callback.bind(u),registerCallback:u.registerCallback.bind(u)}),window.Demandbase.Utilities=w,window.Demandbase.Utilities.Api||(window.Demandbase.Utilities.Api=s),l.assign(window.Demandbase.Utilities.Api,s),window.Demandbase.Utilities.Constants||(window.Demandbase.Utilities.Constants=c),window.Demandbase.utils.tokens||(window.Demandbase.utils.tokens=c),window.Demandbase.Utilities.Logging||(window.Demandbase.Utilities.Logging=m),window.Demandbase.Utilities.Events||(window.Demandbase.Utilities.Events=p),null==window.Demandbase.Config.isInIFrame&&(window.Demandbase.Config.isInIFrame=w.detectIFrame()),window.Demandbase.AssetReporter=new y,window.Demandbase.Advertising=new f,window.Demandbase.AdvertisingModule=f,window.Demandbase.Ads=window.Demandbase.Advertising,window.Demandbase.Advertising.isEnabled()&&(window.Demandbase.IpApiReportingOnly=new C),window.Demandbase.IpApi=new C,window.Demandbase.IpApiModule=C,window.Demandbase.IP=window.Demandbase.IpApi,window.Demandbase.Config.callback&&u.registerCallback(window.Demandbase.Config.callback),window.Demandbase.Utilities.Callbacks||(window.Demandbase.Utilities.Callbacks=u),window.Demandbase.Callbacks||(window.Demandbase.Callbacks=u),window.Demandbase.FormsLoader=new _,window.Demandbase.FormsLoader.isEnabled()&&(window.Demandbase.utils.loadFormModule=window.Demandbase.FormsLoader.load.bind(window.Demandbase.FormsLoader),window.Demandbase.utils.isFormPage=window.Demandbase.FormsLoader.isFormPage.bind(window.Demandbase.FormsLoader)),window.Demandbase.Connectors&&"object"==typeof window.Demandbase.Connectors||(window.Demandbase.Connectors={}),window.Demandbase.Connectors.Google_Analytics=new E,window.Demandbase.Google_AnalyticsModule||(window.Demandbase.Google_AnalyticsModule=E),window.Demandbase.Connectors.Google_TagManager=new v,window.Demandbase.EventApi=new b,window.Demandbase.SiteCustomization=new P,window.Demandbase.Domain=h,window.Demandbase.EmailDomainReporter=new A,window.Demandbase.EmailDomainReporterModule=A;var e={Advertising:window.Demandbase.AdvertisingModule,AssetReporter:window.Demandbase.AssetReporterModule,Content:window.Demandbase.ContentModule,ErrorReporter:window.Demandbase.ErrorReporterModule||g,EventApi:window.Demandbase.EventApiModule,Google_Analytics:window.Demandbase.Google_AnalyticsModule,SiteCustomization:window.Demandbase.SiteCustomization};new I(window.Demandbase.Config,e,window.Demandbase).build(),m.log("Demandbase has been initialized!")}return this}fire(){return this._isInitialized&&window.Demandbase._isInitialized?(m.log("Demandbase.fire(): Preparing to setup and fire Demandbase modules"),window.Demandbase.AssetReporter._setup(),window.Demandbase.AssetReporter.isEnabled()&&window.Demandbase.AssetReporter.initialize(),window.Demandbase.Advertising._setup(),window.Demandbase.Advertising.isEnabled()&&(window.Demandbase.IpApiReportingOnly&&window.Demandbase.IpApiReportingOnly.initialize(),window.Demandbase.Advertising.initialize()),window.Demandbase.FormsLoader._setup(),window.Demandbase.FormsLoader.isEnabled()&&(window.Demandbase.FormsLoader.initialize(),window.Demandbase.utils.loadFormModule=window.Demandbase.FormsLoader.load.bind(window.Demandbase.FormsLoader),window.Demandbase.utils.isFormPage=window.Demandbase.FormsLoader.isFormPage.bind(window.Demandbase.FormsLoader)),window.Demandbase.Connectors.Google_Analytics._setup(),window.Demandbase.Connectors.Google_Analytics.isEnabled()&&window.Demandbase.Connectors.Google_Analytics.initialize(),window.Demandbase.Connectors.Google_TagManager._setup(),window.Demandbase.Connectors.Google_TagManager.isEnabled()&&window.Demandbase.Connectors.Google_TagManager.initialize(),window.Demandbase.EventApi.initialize(),window.Demandbase.SiteCustomization.initialize(),window.Demandbase.EmailDomainReporter._setup(),window.Demandbase.EmailDomainReporter.isEnabled()&&window.Demandbase.EmailDomainReporter.initialize(),window.Demandbase.IpApi._setup(),window.Demandbase.IpApi.isEnabled()&&window.Demandbase.IpApi.initialize(),window.Demandbase.Config.callback&&window.Demandbase.Callbacks.registerCallback(window.Demandbase.Config.callback),window.Demandbase.IpApi.getOnce(),"function"==typeof window.Demandbase.Config.getDomain&&window.Demandbase.Config.getDomain()&&window.Demandbase.Domain.load(),"function"==typeof window.Demandbase.Config.onLoad&&window.Demandbase.Config.onLoad.call(window.Demandbase),m.log("DemandbaseModule has fired!")):m.log("Demandbase has not been initialized and will not fire."),this}}class S{constructor(){this.init()}init(){window.Demandbase||(window.Demandbase={}),this.ads=window.Demandbase.Config?.ads||{},this.analytics=window.Demandbase.Config?.analytics||{},this.forms=window.Demandbase.Config?.forms||{},this.domainAPI=window.Demandbase.Config?.domainAPI||{},this.allowedDomains=window.Demandbase.Config?.allowedDomains||[],this.emptyWatchDefault=window.Demandbase.Config?.emptyWatchDefault||null,this.general=window.Demandbase.Config?.general||{forms:{emailAPIPath:null,autocompletePath:null},IpApiModule:{baseUrl:null},domainAPI:{url:null},APIVersion:null},this.hooks=window.Demandbase.Config?.hooks||{},this.isInIFrame=window.Demandbase.Config?.isInIFrame||null,this.key=window.Demandbase.Config?.key||null,this.logging=window.Demandbase.Config?.logging||null,this.nonCompanyDefault=window.Demandbase.Config?.nonCompanyDefault||null,this.nonWatchDefault=window.Demandbase.Config?.nonWatchDefault||null,this.testDomain=window.Demandbase.Config?.testDomain||void 0,this.testIp=window.Demandbase.Config?.testIp||void 0,this.tokens=window.Demandbase.Config?.tokens||{},this.useTestDomain=window.Demandbase.Config?.useTestDomain||!1,this.useTestIp=window.Demandbase.Config?.useTestIp||!1,window.Demandbase.Config&&(window.Demandbase.Config.content=window.Demandbase.Config.content||[],window.Demandbase.Config.Content=window.Demandbase.Config.Content||[],window.Demandbase.Config.segments=window.Demandbase.Config.segments||[]),window.Demandbase.Content={},window.Demandbase.Segments={},this.callback=window.Demandbase.Config?.callback||void 0,this.getDomain=window.Demandbase.Config?.getDomain||void 0,this.isFormPage=window.Demandbase.Config?.isFormPage||void 0,this.onLoad=window.Demandbase.Config?.onLoad||void 0,this.Advertising=window.Demandbase.Config?.Advertising||{},this.AssetReporter=window.Demandbase.Config?.AssetReporter||{},this.ErrorReporter=window.Demandbase.Config?.ErrorReporter||{},this.Forms=window.Demandbase.Config?.Forms||{},this.Google_Analytics=window.Demandbase.Config?.Google_Analytics||{},this.Google_TagManager=window.Demandbase.Config?.Google_TagManager||{},this.IpApiModule=window.Demandbase.Config?.IpApiModule||{},this.EmailDomainReporter=window.Demandbase.Config?.EmailDomainReporter||{},this.Event=window.Demandbase.Config?.Event||{},this.isVoltronEnabled=!1!==window.Demandbase.Config?.isVoltronEnabled,this.SiteCustomization=window.Demandbase.Config?.SiteCustomization||{experiences:{}}}}try{if(window.Demandbase&&window.Demandbase._isInitialized)return;var M=(window.Demandbase||{}).PreTag;window.Demandbase=new R(M),window.Demandbase.Config=new S,window.Demandbase.initialize(!1);Demandbase.Config.clientId="qQQxkRp0";Demandbase.Config.key="b561357daf8504abd0ca9cc239218ae0";Demandbase.Config.releaseChannel="beta";Demandbase.Config.Advertising={pixels:{ad:"1421361246",rt:"1421361512"},campaigns:[{name:"1",pixels:{cn:"15348910538807"},pagesRegex:["^http[s]{0,1}://stock.adobe.com.*$"],conversionTriggers:{pagesRegex:["^http[s]{0,1}://stock.adobe.com.*$"],events:{}}},{name:"2",pixels:{cn:"15348910762329"},pages:["https://landing.adobe.com/en/na/products/creative-cloud/ctir-4625-stock-for-enterprise/index.html"],conversionTriggers:{pages:["https://landing.adobe.com/en/na/products/creative-cloud/ctir-4625-stock-for-enterprise/index.html"],events:{}}},{name:"3",pixels:{cn:"15349620289062"},pages:["https://www.adobe.com/creativecloud.html"],conversionTriggers:{pages:["https://www.adobe.com/creativecloud.html"],events:{}}},{name:"4",pixels:{cn:"15349620483264"},pages:["https://www.adobe.com/modal-offers/digitaltrends-creative.html"],conversionTriggers:{pages:["https://www.adobe.com/modal-offers/digitaltrends-creative.html"],events:{}}}]};Demandbase.Config.isFormPage=function(){return void 0!==window.Demandbase.formCheck&&!0===window.Demandbase.formCheck||"db"===window.Demandbase.utils.getQueryParam("forms-mode")};window.Demandbase.Config.forms={companyID:"Company",emailID:"Email",fieldMap:{industry:"Industry",employee_range:"Employee_Range__c",country_name:"Country"},autocompleteLabel:"{company_name}<br><span>{street_address}, {city}, {state}</span>",priorityMap:{company:3,ip:2,domain:1},autocompleteCount:35,autocompleteFilters:{country:function(){if(document.querySelector("form input[name='id']"))return window.Demandbase.Config.forms.countryHelper(document.getElementById("Form"+document.querySelector("form input[name='id']").value+"_14").value)},state:function(){if(document.querySelector("form input[name='id']"))return window.Demandbase.Config.forms.stateHelper(document.getElementById("Form"+document.querySelector("form input[name='id']").value+"_15").value)}},countryHelper:function(e){var t=window.Demandbase.Config.countryMapping,i;for(i in t)if(t[i]===e)return i;return""},stateHelper:function(e){var t=window.Demandbase.Config.stateMapping,i;for(i in t)if(t[i]===e)return i;return""},adobe_custom_mapping:function(e){e=JSON.parse(JSON.stringify(e));try{window.faasSid(e.demandbase_sid);window.faasIndustryCode(e.industry);window.faasEmpRangeCode(e.employee_count);window.faasAddress1(e.street_address);window.faasCity(e.city);window.faasZipCode(e.zip);window.faasBizPhone(e.phone);window.faasAnnualSales(e.annual_sales);window.faasWebsite(e.web_site);window.faasSic(e.primary_sic)}catch(e){window.Demandbase.utils.log(e)}},hooks:{pre_init:function(){"function"==typeof window.faasIP&&window.faasIp(window.Demandbase.IP.CompanyProfile.ip)},response:function(e){var t=window.Demandbase.Connectors.WebForm._sourceChecker.sources,i="Form"+document.querySelector("form input[name='id']").value+"_10";Demandbase.CompanyAutocomplete.email=void 0;if(e.pick){$("#Form"+$("form input[name='id']").val()+"_16").val("");$("#Form"+$("form input[name='id']").val()+"_120").val("success");window.Demandbase.Autocomplete={};window.Demandbase.Autocomplete.CompanyProfile=e.pick;$("#Form"+$("form input[name='id']").val()+"_129").val(window.Demandbase.IP.CompanyProfile.company_name);return window.Demandbase.Config.forms.adobe_custom_mapping(e.pick)}if(e.input_match){$("#Form"+$("form input[name='id']").val()+"_125").val("");$("#Form"+$("form input[name='id']").val()+"_18").val("");$("#Form"+$("form input[name='id']").val()+"_17").val("");$("#Form"+$("form input[name='id']").val()+"_126").val("");$("#Form"+$("form input[name='id']").val()+"_115").val("");$("#Form"+$("form input[name='id']").val()+"_122").val("");$("#Form"+$("form input[name='id']").val()+"_16").val("");$("#Form"+$("form input[name='id']").val()+"_123").val("");$("#Form"+$("form input[name='id']").val()+"_127").val("");$("#Form"+$("form input[name='id']").val()+"_104").val("");$("#Form"+$("form input[name='id']").val()+"_33").val("");$("#Form"+$("form input[name='id']").val()+"_120").val("failure");$("#Form"+$("form input[name='id']").val()+"_129").val(window.Demandbase.IP.CompanyProfile.company_name);return window.Demandbase.Config.forms.adobe_custom_mapping(window.Demandbase.IP.CompanyProfile)}}}};window.Demandbase.Config.demandbase_loaded=function(e,t){};window.Demandbase.Config.callback=function(e){if(e)try{void 0!==window.Demandbase.Config.demandbase_loaded.call&&window.Demandbase.Config.demandbase_loaded.call(window.Demandbase,e);window.Demandbase.Config.data_ip=e}catch(e){window.Demandbase.utils.log(e)}};window.Demandbase.Config.data_ip={};window.Demandbase.Config.data_person={};window.Demandbase.Config.countryMapping={AD:"546",AE:"547",AF:"555",AG:"556",AI:"557",AL:"558",AM:"559",AN:"560",AO:"561",AQ:"562",AR:"563",AT:"590",AU:"600",AW:"609",AZ:"610",BA:"611",BB:"612",BD:"613",BE:"614",BF:"624",BG:"625",BH:"635",BI:"636",BJ:"637",BM:"638",BN:"639",BO:"640",BR:"641",BS:"669",BT:"670",BW:"671",BY:"672",BZ:"673",CA:"674",CC:"688",CD:"689",CF:"690",CG:"691",CH:"692",CI:"719",CK:"720",CL:"721",CM:"737",CN:"738",CO:"771",CR:"807",CV:"810",CX:"811",CY:"812",CZ:"813",DE:"822",DJ:"839",DK:"840",DM:"857",DO:"858",DZ:"859",EC:"860",EE:"862",EG:"863",EH:"867",ER:"868",ES:"869",ET:"920",FI:"921",FJ:"928",FK:"929",FM:"930",FO:"931",FR:"932",GA:"1034",GB:"1035",GD:"1230",GE:"1231",GF:"1232",GH:"1233",GI:"1234",GL:"1235",GM:"1236",GN:"1237",GP:"1238",GQ:"1239",GR:"1240",GS:"1294",GT:"1295",GW:"1296",GY:"1297",HK:"1298",HN:"1305",HR:"1306",HT:"1328",HU:"1329",ID:"1370",IE:"1398",IL:"1425",IN:"1432",IO:"1468",IQ:"1469",IS:"1471",IT:"1472",JM:"1577",JO:"1578",JP:"1579",KE:"1627",KG:"1629",KH:"1630",KI:"1631",KM:"1632",KN:"1633",KR:"1635",KW:"1653",KY:"1654",KZ:"1655",LA:"1669",LB:"1670",LC:"1671",LI:"1672",LK:"1673",LR:"1674",LS:"1675",LT:"1676",LU:"1677",LV:"1678",LY:"1679",MA:"1680",MC:"1681",MD:"1682",ME:"1725",MG:"1726",MH:"1727",MK:"1728",ML:"1729",MM:"1730",MN:"1731",MO:"1732",MQ:"1733",MR:"1734",MS:"1735",MT:"1736",MU:"1737",MV:"1738",MW:"1739",MX:"1740",MY:"1774",MZ:"1793",NA:"1794",NC:"1795",NE:"1796",NF:"1797",NG:"1798",NI:"1799",NL:"1800",NO:"1817",NP:"1837",NR:"1838",NU:"1842",NZ:"1843",OM:"1856",PA:"1857",PE:"1858",PF:"1883",PG:"1884",PH:"1885",PK:"1986",PL:"1994",PM:"2044",PN:"2045",PS:"2046",PT:"2047",PY:"2088",QA:"2089",RE:"2090",RO:"2091",RS:"2134",RU:"2135",RW:"2247",SA:"2248",SB:"2249",SC:"2250",SE:"2252",SG:"2274",SH:"2276",SI:"2277",SJ:"2338",SK:"2339",SL:"2344",SM:"2345",SN:"2346",SO:"2347",SR:"2348",ST:"2349",SV:"2350",SZ:"2352",TC:"2353",TD:"2354",TG:"2355",TH:"2356",TJ:"2437",TK:"2438",TL:"2439",TM:"2440",TN:"2441",TO:"2442",TR:"2443",TT:"2523",TV:"2524",TW:"2525",TZ:"2547",UA:"2548",UG:"2578",UM:"2579",US:"2580",UY:"2641",UZ:"2644",VA:"2645",VC:"2646",VE:"2647",VG:"2674",VN:"2679",VU:"2681",WF:"2682",WS:"2683",YE:"2684",YT:"2685",ZA:"2686",ZM:"2699",ZW:"2700"};window.Demandbase.Config.stateMapping={AA:"2581",AE:"2582",AK:"2583",AL:"2584",AP:"2585",AR:"2586",AS:"2587",AZ:"2588",CA:"2589",CO:"2590",CT:"2591",DC:"2592",DE:"2593",FL:"2594",GA:"2595",GU:"2596",HI:"2597",IA:"2598",ID:"2599",IL:"2600",IN:"2601",KS:"2602",KY:"2603",LA:"2604",MA:"2605",MD:"2606",ME:"2607",MI:"2608",MN:"2609",MO:"2610",MP:"2611",MS:"2612",MT:"2613",NC:"2614",ND:"2615",NE:"2616",NH:"2617",NJ:"2618",NM:"2619",NV:"2620",NY:"2621",OH:"2622",OK:"2623",OR:"2624",PA:"2625",PR:"2626",PW:"2627",RI:"2628",SC:"2629",SD:"2630",TN:"2631",TX:"2632",UT:"2633",VA:"2634",VI:"2635",VT:"2636",WA:"2637",WI:"2638",WV:"2639",WY:"2640",AB:"675",BC:"676",MB:"677",NB:"678",NL:"679",NS:"680",NT:"681",NU:"682",ON:"683",PE:"684",QC:"685",SK:"686",YT:"687"};window.Demandbase.checkForElements=function(e,t,i){try{if(e===i)return!1;if(void 0===window.Demandbase.CompanyAutocomplete||null===document.querySelector("form input[name='id']")||(void 0===window.Demandbase.IP.CompanyProfile||null!==window.faasIp&&"function"!=typeof window.faasIp)&&"db_company_check"===window.Demandbase.Config.forms.companyID){e++;setTimeout(window.Demandbase.checkForElements,t,e,t,i)}else{clearTimeout(e);window.Demandbase.FormsLoader.configuration.companyID="Form"+document.querySelector("form input[name='id']").value+"_10";window.Demandbase.FormsLoader.configuration.emailID="Form"+document.querySelector("form input[name='id']").value+"_1";if(!0===window.Demandbase.Config.isFormPage()&&void 0!==window.Demandbase.utils){window.Demandbase.CompanyAutocomplete.initialized=!1;window.Demandbase.Connectors.WebForm.connect(window.Demandbase.FormsLoader.configuration);var n="#demandbase-company-autocomplete-widget > ul {z-index: 300 !important;}",a=document.createElement("style");a.type="text/css";a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n));document.getElementsByTagName("head")[0].appendChild(a);window.Demandbase.utils.loadFormModule()}}}catch(e){window.Demandbase.utils.log(e);return!1}};window.Demandbase.Config.demandbaseFormLoad=function(){window.Demandbase.formCheck=!0;window.Demandbase.utils.loadScript("tag.demandbase.com/shared/forms.min.js");var e=0,t=50,i=75;window.Demandbase.checkForElements(0,50,75)};window.Demandbase.Config.runSecondApiCall=function(){var e="cdd81de96c428bab16422a9b25714d73",t=["http://www.cmo.com/","http://blogs.adobe.com/","https://stock.adobe.com/","http://www.adobe.com/products/photoshop.html","http://www.adobe.com/products/illustrator.html","http://www.adobe.com/products/indesign.html","http://www.adobe.com/products/premiere.html","http://www.adobe.com/products/experience-design.html","https://landing.adobe.com/en/na/products/creative-cloud/283747-adobe-stock-for-enterprise.html","http://www.adobe.com/creativecloud/business/enterprise.html","http://www.adobe.com/creativecloud/business/enterprise/use-cases.html","http://www.adobe.com/creativecloud/business/enterprise/deploy-and-manage.html","http://www.adobe.com/creativecloud/business/teams/plans.html","http://www.adobe.com/creativecloud/business/enterprise/deploy-and-manage.html","http://www.adobe.com/creativecloud/stock/hovering.html?v=enterprise","http://www.adobe.com/creativecloud.html"];window.Demandbase.IpApiWebReporting=new window.Demandbase.IpApiModule;-1!==t.indexOf(document.URL)&&window.Demandbase.IpApiWebReporting.get(e,!1)};window.Demandbase.Config.runThirdApiCall=function(){var e=["stock.adobe.com/uk/","stock.adobe.com/de/","stock.adobe.com/fr/","landing.adobe.com/en/uk/products/creative-cloud/283747-adobe-stock-for-enterprise.html","landing.adobe.com/fr/fr/products/creative-cloud/283747-adobe-stock-for-enterprise.html","landing.adobe.com/de/de/products/creative-cloud/283747-adobe-stock-for-enterprise.html"],t="5cdd46213f160f38373817975224099c",i;window.Demandbase.IpApiWebReporting=new window.Demandbase.IpApiModule;window.Demandbase.Config.isDomainEnabled(e)&&window.Demandbase.IpApiWebReporting.get(t,!1)};window.Demandbase.Config.isDomainEnabled=function(e){for(var t=0;t<e.length;t++)if(window.Demandbase.Shims.includes(window.document.URL,e[t]))return!0;return!1};window.Demandbase.Config.onLoad=function(){window.Demandbase.Config.runSecondApiCall();window.Demandbase.Config.runThirdApiCall()};Demandbase.Config.conditions=[{name:"CaptivatePrimeCampaign1",attribute:"information_level",operator:"equals",value:["Detailed"],standalone:!1},{name:"AEMDoXcampaign1",attribute:"information_level",operator:"equals",value:["Detailed"],standalone:!1},{name:"TechComm1",attribute:"information_level",operator:"equals",value:["Detailed"],standalone:!1}];Demandbase.Config.segments=[{name:"CaptivatePrimeCampaign",rules:["CaptivatePrimeCampaign1"],operator:"all"},{name:"AEMDoXcampaign",rules:["AEMDoXcampaign1"],operator:"all"},{name:"TechComm",rules:["TechComm1"],operator:"all"}];Demandbase.Config.content=[{name:"Captivate Prime - Landing Page",pages:["http://www.adobe.com/products/captivateprime/learn-more.html","https://www.adobe.com/products/captivateprime/learn-more.html"],segments:["TestingCaptivatePrimeCampaign","CaptivatePrimeCampaign"],modify:function(){document.querySelector("strong").innerHTML=""+Demandbase.IP.CompanyProfile.company_name;document.querySelector(".grid-padded-v5x > .grid-offset-1 > :nth-child(1) > :nth-child(1) > :nth-child(1) > :nth-child(1)").innerHTML="We are here to help. Let's talk about what Adobe Captivate Prime can do for "+Demandbase.IP.CompanyProfile.company_name+".";document.querySelector(".text-5-block").innerHTML="Not ready yet? Explore the resources below to learn more about how Adobe Captivate Prime can help you deliver modern learning experiences at "+Demandbase.IP.CompanyProfile.company_name+".";var e=function(e,t,i){return e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i,!1)}}},{name:'Captivate Prime - Landing Page "Know More"',pages:["http://www.adobe.com/products/captivateprime/know-more.html","https://www.adobe.com/products/captivateprime/know-more.html"],segments:["TestingCaptivatePrimeCampaign","CaptivatePrimeCampaign"],modify:function(){document.querySelector("strong").innerHTML=""+Demandbase.IP.CompanyProfile.company_name;document.querySelector(".grid-padded-v5x > .grid-offset-1 > :nth-child(1) > :nth-child(1) > :nth-child(1) > :nth-child(1)").innerHTML="We are here to help. Let's talk about what Adobe Captivate Prime can do for "+Demandbase.IP.CompanyProfile.company_name+".";document.querySelector(":nth-child(7) > .grid-row > .grid-cols-14 > :nth-child(1) > .text-5-block").innerHTML="Not ready yet? Explore the resources below to learn more about how Adobe Captivate Prime can help you deliver modern learning experiences at "+Demandbase.IP.CompanyProfile.company_name+".";document.querySelector(":nth-child(1) > .text-light > strong").innerHTML=""+Demandbase.IP.CompanyProfile.company_name;var e=function(e,t,i){return e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i,!1)}}},{name:"AEM DoX campaign",pages:["http://www.adobe.com/products/xml-documentation-for-experience-manager/learn-more.html","https://www.adobe.com/products/xml-documentation-for-experience-manager/learn-more.html"],segments:["TestingAEMDoXcampaign","AEMDoXcampaign"],modify:function(){document.querySelector("strong").innerHTML="Manage documentation from creation to delivery for "+Demandbase.IP.CompanyProfile.company_name+" with an enterprise-class CCMS";document.querySelector(".grid-cols-12 > :nth-child(1) > h3").innerHTML="See what "+Demandbase.IP.CompanyProfile.company_name+" can do with XML Documentation solution?";document.querySelector(".promo-intro").innerHTML="Explore the business benefits of an enterprise-class CCMS for "+Demandbase.IP.CompanyProfile.company_name+".";var e=function(e,t,i){return e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i,!1)}}},{name:"Tech Comm Landing Page",pages:["http://www.adobe.com/products/technicalcommunicationsuite/learn-more.html","https://www.adobe.com/products/technicalcommunicationsuite/learn-more.html"],segments:["TestingTechComm","TechComm"],modify:function(){document.querySelector(".title > strong").innerHTML="Author and publish intelligent technical content at "+Demandbase.IP.CompanyProfile.company_name;document.querySelector(".promo-intro").innerHTML="Let's talk about what Adobe Technical Communication solutions can do for "+Demandbase.IP.CompanyProfile.company_name+".";var e=function(e,t,i){return e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i,!1)}}},{name:"Captivate - Learn More",pages:["http://www.adobe.com/products/captivate/learn-more.html","https://www.adobe.com/products/captivate/learn-more.html"],segments:["TestingCaptivatePrimeCampaign","CaptivatePrimeCampaign"],modify:function(){document.querySelector(".grid-span-7of8 > :nth-child(2) > :nth-child(4)").innerHTML="for"+Demandbase.IP.CompanyProfile.company_name;document.querySelector(":nth-child(4) > .grid-padded-b2x > .grid-cols-12 > :nth-child(1) > .text-5-block > strong").innerHTML="Training and Certification program offerings for  "+Demandbase.IP.CompanyProfile.company_name;document.querySelector("#panel-3-content > :nth-child(2) > :nth-child(3) > .text-light").innerHTML="Enterprise discount for "+Demandbase.IP.CompanyProfile.company_name+" is available for 10 or more participants. For more information, please email us at";var e=function(e,t,i){return e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i,!1)}}}];window.Demandbase.Config.callback=function(e){if(e){var t=Demandbase.utils.getQueryParam("personalization");t&&(e.segment=t)}window.Demandbase.Segments.add("condition",{name:"TestingCaptivatePrimeCampaign",attribute:"segment",operator:"=",value:"CaptivatePrimeCampaign",standalone:!0});window.Demandbase.Segments.add("condition",{name:"TestingAEMDoXcampaign",attribute:"segment",operator:"=",value:"AEMDoXcampaign",standalone:!0});window.Demandbase.Segments.add("condition",{name:"TestingTechComm",attribute:"segment",operator:"=",value:"TechComm",standalone:!0})}}catch(e){window.location.search&&-1<window.location.search.indexOf("db_logging=true")&&console.error("Demandbase: Configuration error",e),window.Demandbase.ErrorReporter=new r,window.Demandbase.ErrorReporter.initialize(),window.Demandbase.ErrorReporter.send(e,{type:"TagConfigError"})}window.Demandbase.ErrorReporter=window.Demandbase.ErrorReporter||new r,window.Demandbase.ErrorReporter.initialize(),window.Demandbase.ErrorReporter.wrap(()=>window.Demandbase.fire.bind(window.Demandbase)())()})();